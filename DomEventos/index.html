<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <style>

        html, body {
            height: 100%;
            margin: 0;
            overflow: hidden;
        }

        body {
            background-image: url('../DomEventos/img/fundoInicial.png');
            background-size: cover;
        }

        .iconezinho {
            width: 70px;
            height: 70px;
        }

        .fundotransp {
            background: rgba(0, 0, 0, 0.6);
            box-shadow: 0 0 10px white;
            border-radius: 8px;
            color: white;
            padding: 15px;
            width: fit-content;
            margin: 20px;
            display: flex;
            gap: 20px;
        }

        .pausado {
            position: fixed;
            width: 100%;
            height: 100%;
            background-color: rgba(100, 100, 100, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            display: none;
            font-size: 48px;
            color: white;
            font-family: Georgia, 'Times New Roman', Times, serif;
        }

        #nave {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            height: 160px;
            width: auto;
        }

    </style>
</head>

<body onload="startCounter()">

    <div class="pausado" id="paused">
        <span>GAME PAUSED</span>
    </div>

    <!-- telinha -->
    <div class="row">
        <div class="col">
            <div class="row">
                <div class="fundotransp d-flex align-items-center text-center">
                    <div class="col">
                        <div class="row"><img src="../DomEventos/img/clock.png" alt="relÃ³gio" class="iconezinho"></div>
                        <div class="row"><img src="../DomEventos/img/nave.png" alt="nave" class="iconezinho"></div>
                        <div class="row"><img src="../DomEventos/img/alien.png" alt="alien" class="iconezinho"></div>
                    </div>

                    <div class="col">
                        <div class="row" id="tempo">00:00:00</div>
                        <div class="row">LIFE: 0</div>
                        <div class="row">ALIEN: 0</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col text-center">
            <img src="../DomEventos/img/nave.png" alt="Nave" id="nave">
        </div>
    </div>


    <script>
        let segundos = 0;
        let minutos = 0;
        let horas = 0;
        let id = null;
        let pausado = false;

        const tempoEl = document.querySelector("#tempo");
        const overlay = document.getElementById("paused");

        const nave = document.getElementById("nave");
        const margemMovimento = 10;

        function formatarTempo(valor) {
            return valor.toString().padStart(2, '0');
        }

        function atualizarTempo() {
            segundos++;
            if (segundos === 60) {
                segundos = 0;
                minutos++;
            }
            if (minutos === 60) {
                minutos = 0;
                horas++;
            }

            tempoEl.textContent = `${formatarTempo(horas)}:${formatarTempo(minutos)}:${formatarTempo(segundos)}`;
        }

        function startCounter() {
            id = setInterval(atualizarTempo, 1000);
            pausado = false;
            overlay.style.display = "none";
        }

        function stopCounter() {
            clearInterval(id);
            pausado = true;
            overlay.style.display = "flex";
        }

        document.addEventListener("keydown", function (e) {

            if (e.key.toLowerCase() === "p") {
                if (pausado) {
                    startCounter();
                } else {
                    stopCounter();
                }
            }

            if (pausado) return;

            const navePos = nave.getBoundingClientRect();
            
            if (e.key === "ArrowRight") {
                nave.style.left = `${navePos.right + margemMovimento}px`;
            } else if (e.key === "ArrowLeft") {
                nave.style.left = `${navePos.left - margemMovimento}px`;
            }
        });

    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>